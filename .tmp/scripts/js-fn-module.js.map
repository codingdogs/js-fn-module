{"version":3,"sources":["js-fn-module.js"],"names":["APP","prototype","extend","a","b","key","documentReady","fn","document","addEventListener","removeEventListener","arguments","callee","attachEvent","IEContentLoaded","window","w","d","done","init","documentElement","doScroll","e","setTimeout","onreadystatechange","readyState","windowLoad","Page","obj","app","checkKeys","check","keys","flag","hasOwnProperty","console","error","data","call","methods","m","ready","load"],"mappings":"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","file":"js-fn-module.js","sourcesContent":["//创建原型\nvar APP = function () {\n    // this.a = 1;\n}\n\nAPP.prototype = { //添加原型的一些方法\n    extend(a, b) {\n        for (let key in b) {\n            a[key] = b[key]\n        }\n        return a;\n    },\n    documentReady(fn) {\n        if (document.addEventListener) { //兼容非IE\n            document.addEventListener('DOMContentLoaded', function () {\n                //注销事件，避免反复触发\n                document.removeEventListener('DOMContentLoaded', arguments.callee, false);\n                fn(); //调用参数函数\n            }, false);\n        } else if (document.attachEvent) { //兼容IE\n            IEContentLoaded(window, fn);\n        }\n\n        function IEContentLoaded(w, fn) {\n            var d = w.document,\n                done = false,\n                // only fire once\n                init = function () {\n                    if (!done) {\n                        done = true;\n                        fn();\n                    }\n                };\n            // polling for no errors\n            (function () {\n                try {\n                    // throws errors until after ondocumentready\n                    d.documentElement.doScroll('left');\n                } catch (e) {\n                    setTimeout(arguments.callee, 50);\n                    return;\n                }\n                // no errors, fire\n\n                init();\n            })();\n            // trying to always fire before onload\n            d.onreadystatechange = function () {\n                if (d.readyState == 'complete') {\n                    d.onreadystatechange = null;\n                    init();\n                }\n            };\n        }\n    },\n    windowLoad(fn) {\n        if (document.addEventListener) { //兼容非IE\n            window.addEventListener('load', () => {\n                fn();\n            })\n        } else {\n            window.attachEvent('onload', () => {\n                fn();\n            });\n        }\n    }\n}\n\n//关键字段 extend\n\nvar Page = function (obj) {\n    var app = new APP(); //添加APP的方法\n    //检查prototype字段是否占用\n    function checkKeys(check, keys, d) { //check为检查对象,keys为要检查的对象\n        var flag = true;\n        for (let key in keys) {\n            if (check.hasOwnProperty(key)) {\n                console.error(`${d}参数[${key}]为关键字段或者出现多个相同参数，为避免覆盖，请重新命名！！！`);\n                flag = false;\n            }\n        }\n        return flag;\n    }\n    if (obj.data) { //数据\n        var a = obj.data.call(app);\n        if (checkKeys(APP.prototype, 'data')) { //检测是否占用关键字段\n            app.extend(app, a)\n        }else{\n            return false;\n        }\n    }\n    if (obj.methods) { //添加方法\n        var m = obj.methods;\n        if (checkKeys(APP.prototype, m, 'methods') && checkKeys(app, m, 'methods')) { //检测是否占用关键字段\n            app.extend(app, m)\n        }else{\n            return false;\n        }\n    }\n    if (obj.ready) { //ready事件\n        app.documentReady(() => {\n            //执行ready事件\n            obj.ready.call(app)\n        })\n    }\n    if (obj.load) { //load事件\n        app.windowLoad(() => {\n            //执行load事件\n            obj.load.call(app)\n        })\n    }\n\n    return app;\n}\n"]}