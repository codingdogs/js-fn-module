{"version":3,"sources":["index.js"],"names":["APP","a","prototype","aa","d","console","log","extend","b","key","documentReady","fn","document","addEventListener","removeEventListener","arguments","callee","attachEvent","IEContentLoaded","window","w","done","init","documentElement","doScroll","e","setTimeout","onreadystatechange","readyState","windowLoad","Page","obj","app","checkKeys","check","keys","flag","hasOwnProperty","error","data","call","ready","load"],"mappings":"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","file":"index.js","sourcesContent":["//创建原型\nvar APP = function () {\n    this.a = 1;\n}\n\nAPP.prototype = { //添加原型的一些方法\n    aa: function (d) {\n        console.log(d);\n    },\n    extend(a, b) {\n        for (let key in b) {\n            a[key] = b[key]\n        }\n        return a;\n    },\n    documentReady(fn) {\n        if (document.addEventListener) { //兼容非IE\n            document.addEventListener(\"DOMContentLoaded\", function () {\n                //注销事件，避免反复触发\n                document.removeEventListener(\"DOMContentLoaded\", arguments.callee, false);\n                fn(); //调用参数函数\n            }, false);\n        } else if (document.attachEvent) { //兼容IE\n            IEContentLoaded(window, fn);\n        }\n\n        function IEContentLoaded(w, fn) {\n            var d = w.document,\n                done = false,\n                // only fire once\n                init = function () {\n                    if (!done) {\n                        done = true;\n                        fn();\n                    }\n                };\n            // polling for no errors\n            (function () {\n                try {\n                    // throws errors until after ondocumentready\n                    d.documentElement.doScroll('left');\n                } catch (e) {\n                    setTimeout(arguments.callee, 50);\n                    return;\n                }\n                // no errors, fire\n\n                init();\n            })();\n            // trying to always fire before onload\n            d.onreadystatechange = function () {\n                if (d.readyState == 'complete') {\n                    d.onreadystatechange = null;\n                    init();\n                }\n            };\n        }\n    },\n    windowLoad(fn) {\n        if (document.addEventListener) { //兼容非IE\n            window.addEventListener('load', () => {\n                fn();\n            })\n        } else {\n            window.attachEvent('onload', () => {\n                fn();\n            });\n        }\n    }\n}\n\n//关键字段 extend\n\nvar Page = function (obj) {\n    var app = new APP(); //添加APP的方法\n    //检查prototype字段是否占用\n    function checkKeys(check, keys) { //check为检查对象,keys为要检查的对象\n        var flag = true;\n        for (let key in keys) {\n            if (check.hasOwnProperty(key)) {\n                console.error(`data参数[${key}]为关键字段，请重新命名！！！`);\n                flag = false;\n            }\n        }\n        return flag;\n    }\n    if (obj.data) { //数据\n        var a = obj.data.call(app);\n        if (checkKeys(APP.prototype, a)) { //检测是否占用关键字段\n            app.extend(app,a)\n        }\n    }\n    if (obj.ready) { //ready事件\n        app.documentReady(() => {\n            //执行ready事件\n            obj.ready.call(app)\n        })\n    }\n    if (obj.load) { //load事件\n        app.windowLoad(() => {\n            //执行load事件\n            obj.load.call(app)\n        })\n    }\n    return app;\n}\n"]}